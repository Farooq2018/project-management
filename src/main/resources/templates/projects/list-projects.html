<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layouts :: head}"></head>

<body>

<nav th:replace="~{layouts :: navbar}"></nav>

<div class="container mt-5">
	<h3 class="text-center">Projects Directory</h3>
	<hr>

	<!-- Button Container -->
	<!-- Add New Project Button -->
	<div class="d-flex justify-content-end mb-3">
		<!-- Add New Project Button -->
		<a th:href="@{/projects/new}" class="btn btn-primary">
			<i class="bi bi-folder-plus"></i> New Project
		</a>
		<!-- Project Timeline Button -->
		<a th:href="@{/projects/timelines}" class="btn btn-secondary">
			<i class="bi bi-calendar-event"></i> Project Timeline
		</a>
	</div>

	<!-- Projects Table -->
	<table class="table table-bordered table-striped">
		<thead class="table-dark text-center">
		<tr>
			<th>Project Name</th>
			<th>Project Stage</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="aProject : ${projects}" class="text-center">
			<td th:text="${aProject.name}"></td>
			<td th:text="${aProject.stage}"></td>
			<td>
				<!-- Update Button -->
				<a th:href="@{/projects/update(id=${aProject.projectId})}" class="btn btn-info btn-sm me-2">
					<i class="bi bi-pencil"></i> Update
				</a>

				<!-- Delete Button -->
				<a th:href="@{/projects/delete(id=${aProject.projectId})}"
				   class="btn btn-danger btn-sm"
				   onclick="return confirm('Are you sure you want to delete this project?');">
					<i class="bi bi-trash"></i> Delete
				</a>
			</td>
		</tr>
		</tbody>
	</table>
</div>

</body>

</html>
